"use strict";!function(a){var b=function(){this.onEvents=[],this.onceEvents=[]},c=function(a,b,c){if(_.isFunction(b)&&(c=b,b=null),!_.isString(a)||!_.isFunction(c))throw new Error("Invalid event");this.event=a,this.context=b,this.callback=c};c.prototype.execute=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return Reflect.apply(this.callback,this.context,b)},b.prototype.emit=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];var e=_.concat(_.filter(this.onEvents,["event",a]),_.remove(this.onceEvents,["event",a])),f=[];return _.forEach(e,function(a){f.push(a.execute.apply(a,c))}),1===f.length?f[0]:f},b.prototype.on=function(){for(var a=arguments.length,b=Array(a),d=0;a>d;d++)b[d]=arguments[d];var e=new(Function.prototype.bind.apply(c,[null].concat(b)));return this.onEvents.push(e),this},b.prototype.once=function(){for(var a=arguments.length,b=Array(a),d=0;a>d;d++)b[d]=arguments[d];var e=new(Function.prototype.bind.apply(c,[null].concat(b)));return this.onceEvents.push(e),this},b.prototype.remove=function(a){return this.removeOn(a).removeOnce(a)},b.prototype.removeOn=function(a){return _.remove(this.onEvents,["event",a]),this},b.prototype.removeOnce=function(a){return _.remove(this.onceEvents,["event",a]),this},a.em=new b}(window);