"use strict";var em=function(){var a=function(){this.onEvents=[],this.onceEvents=[]},b=function(a,b,c){if(_.isFunction(b)&&(c=b,b=null),!_.isString(a)||!_.isFunction(c))throw new Error("Invalid event");this.event=a,this.context=b,this.callback=c};return b.prototype.execute=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return Reflect.apply(this.callback,this.context,b)},a.prototype.emit=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];var e=_.concat(_.filter(this.onEvents,["event",a]),_.remove(this.onceEvents,["event",a]));return _.forEach(e,function(a){a.execute.apply(a,c)}),this},a.prototype.on=function(){for(var a=arguments.length,c=Array(a),d=0;a>d;d++)c[d]=arguments[d];var e=new(Function.prototype.bind.apply(b,[null].concat(c)));return this.onEvents.push(e),this},a.prototype.once=function(){for(var a=arguments.length,c=Array(a),d=0;a>d;d++)c[d]=arguments[d];var e=new(Function.prototype.bind.apply(b,[null].concat(c)));return this.onceEvents.push(e),this},a.prototype.remove=function(a){return this.removeOn(a).removeOnce(a)},a.prototype.removeOn=function(a){return _.remove(this.onEvents,["event",a]),this},a.prototype.removeOnce=function(a){return _.remove(this.onceEvents,["event",a]),this},new a}();