"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){var a="object"===("undefined"==typeof global?"undefined":_typeof(global))&&global&&global.Object===Object&&global,b="object"===("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,c=a||b||Function("return this")(),d=function(){this.onEvents=[],this.onceEvents=[]},e=function(a,b,c){if(_.isFunction(b)&&(c=b,b=null),!_.isString(a)||!_.isFunction(c))throw new Error("Invalid event");this.event=a,this.context=b,this.callback=c};e.prototype.execute=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return Reflect.apply(this.callback,this.context,b)},d.prototype.emit=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];var e=_.concat(_.filter(this.onEvents,["event",a]),_.remove(this.onceEvents,["event",a])),f=[];return _.forEach(e,function(a){f.push(a.execute.apply(a,c))}),1===f.length?f[0]:f},d.prototype.on=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=new(Function.prototype.bind.apply(e,[null].concat(b)));return this.onEvents.push(d),this},d.prototype.once=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=new(Function.prototype.bind.apply(e,[null].concat(b)));return this.onceEvents.push(d),this},d.prototype.remove=function(a){return this.removeOn(a).removeOnce(a)},d.prototype.removeOn=function(a){return _.remove(this.onEvents,["event",a]),this},d.prototype.removeOnce=function(a){return _.remove(this.onceEvents,["event",a]),this},c.em=new d}).call(void 0);