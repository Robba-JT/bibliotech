<header class="windowheader">&nbsp;<span class="direct">[{detail.book.title || trads.newBook}]</span><div class="closeWindow" title="[{trads.close}]" ng-click="windows.close('detail')"></div><div class="detailSave" ng-show="detail.book.inCollection" title="[{trads.save}]" ng-click="detail.updateBook()"></div><div class="detailAdd" ng-hide="detail.book.inCollection" title="[{trads.add}]" ng-click="detail.addBook()"></div><div class="detailGbooks" ng-show="detail.book.link" title="[{trads.gbooks}]" ng-click="navbar.openUrl(detail.book.link)"></div><div class="detailConnex" title="[{trads.connex}]" ng-show="!waiting.anim && detail.book.link" ng-click="search.associated()"></div><div class="detailPreview" ng-show="detail.book.access === 'SAMPLE'" title="[{trads.preview}]" ng-click="windows.open('preview')"></div><div class="detailRecommand" ng-show="detail.book.inCollection" title="[{trads.torecommand}]" ng-click="windows.open('recommand')"></div></header><article><div class="detailCover" dir="rtl"><div id="noCover" ng-hide="detail.book.base64 || detail.book.alternative"></div><div><img id="detailCover" ng-show="detail.book.base64 || detail.book.alternative" ng-src="[{detail.book.base64 || detail.book.alternative}]" :></div><div class="imgAction"><div class="upload" ng-show="detail.book.inCollection && !detail.book.cover" ng-click="detail.uploadCover()"></div></div><form id="uploadHidden" class="notdisplayed" novalidate><input type="file" accept="image/*"> <input type="hidden" message="errUpload" titre="error"></form></div><div class="detailBook" ng-style="{ 'height': detail.height + 'px' }"><div class="volumeInfo"><button class="title" ng-class="detail.edit.able && (detail.edit.title || detail.edit.new ? 'hide' : 'modify')" tabindex="-1" ng-click="!detail.edit.new && detail.editToggle('title')">[{trads.title}]:</button> <span ng-class="!waiting.anim && 'link'" searchby="intitle:">[{detail.book.title}]</span>&nbsp; <span ng-class="!waiting.anim && 'link'" searchby="intitle:">[{detail.book.subtitle}]</span> <input type="text" placeholder="[{trads.title}]" error="[{trads.errTitle}]" ng-model="detail.book.title" ng-show="detail.edit.title || detail.edit.new" ng-required="detail.edit.title || detail.edit.new" ng-minlength="3"> <input type="text" placeholder="[{trads.subtitle}]" ng-model="detail.book.subtitle" ng-show="detail.edit.title || detail.edit.new"></div><div class="volumeInfo" ng-show="detail.edit.able || detail.edit.new || detail.book.authors.length"><button class="title" ng-class="detail.edit.able && (detail.edit.authors || detail.edit.new ? 'hide' : 'modify')" tabindex="-1" ng-click="!detail.edit.new && detail.editToggle('authors')">[{trads.authors}]:</button> <span ng-repeat="author in detail.book.authors" ng-class="!waiting.anim && 'link'" ng-click="detail.searchBy($event)" searchby="inauthor:">[{author}]</span> <input type="text" ng-show="detail.edit.authors || detail.edit.new" placeholder="[{trads.authorsWithComa}]" ng-model="detail.book.authors" ng-change="detail.parseAuthors($this)"></div><div class="volumeInfo" ng-show="detail.edit.able || detail.book.publisher || detail.book.publishedDate"><button class="title" ng-class="detail.edit.able && (detail.edit.publisher || detail.edit.new ? 'hide' : 'modify')" tabindex="-1" ng-click="!detail.edit.new && detail.editToggle('publisher')">[{trads.publishBy}]:</button> <span ng-class="!waiting.anim && 'link'" ng-hide="detail.edit.publisher" searchby="inpublisher:">[{detail.book.publisher}]</span> <input type="text" ng-show="detail.edit.publisher || detail.edit.new" placeholder="[{trads.publisher}]" ng-model="detail.book.publisher"> <span class="date" ng-hide="detail.edit.publisher">[{detail.XDate | date: "dd/MM/yyyy" }]</span> <input type="date" ng-show="detail.edit.publisher || detail.edit.new" ng-model="detail.XDate" placeholder="[{trads.publishedDate}]"></div><div class="volumeInfo" ng-show="detail.edit.able || detail.book.pageCount"><button class="title" ng-class="detail.edit.able && (detail.edit.pageCount || detail.edit.new ? 'hide' : 'modify')" tabindex="-1" ng-click="!detail.edit.new && detail.editToggle('pageCount')">[{trads.nbPages}]:</button> <span class="direct" ng-hide="detail.edit.pageCount">[{detail.book.pageCount}]</span> <input type="number" ng-show="detail.edit.pageCount || detail.edit.new" placeholder="[{trads.nbPages}]" ng-model="detail.book.pageCount"></div><div class="volumeInfo" ng-show="detail.edit.able || detail.book.isbn10 || detail.book.isbn13"><button class="title" ng-class="detail.edit.able && (detail.edit.isbn || detail.edit.new ? 'hide' : 'modify')" tabindex="-1" ng-click="!detail.edit.new && detail.editToggle('isbn')">[{trads.isbn}]:</button> <span ng-class="!waiting.anim && 'link'" ng-hide="detail.edit.isbn" searchby="isbn:">[{detail.book.isbn10}]</span> <input type="text" ng-show="detail.edit.isbn || detail.edit.new" placeholder="[{trads.isbn10}]" size="10" maxlength="10" ng-model="detail.book.isbn10"> <span ng-class="!waiting.anim && 'link'" ng-hide="detail.edit.isbn" searchby="isbn:">[{detail.book.isbn13}]</span> <input type="text" ng-show="detail.edit.isbn || detail.edit.new" placeholder="[{trads.isbn13}]" size="13" maxlength="13" ng-model="detail.book.isbn13"></div><div class="volumeInfo" ng-show="detail.edit.able || detail.book.description"><button class="title" ng-class="detail.edit.able && (detail.edit.description || detail.edit.new ? 'hide' : 'modify')" tabindex="-1" ng-click="!detail.edit.new && detail.editToggle('description')">[{trads.description}]:</button><br><span ng-hide="detail.edit.description" ng-bind-html="detail.book.description"></span><textarea placeholder="[{trads.description}]" ng-show="detail.edit.description || detail.edit.new" rows="5" ng-model="detail.book.description"></textarea></div><div class="nonEditable" ng-show="detail.book.categories"><button class="title" tabindex="-1">[{trads.categories}]:</button> <span class="direct">[{detail.book.categories}]</span></div><div class="nonEditable" ng-show="detail.book.from"><button class="title" tabindex="-1">[{trads.from}]:</button> <span class="direct">[{detail.book.from}]</span></div><div ng-show="detail.book.inCollection"><form role="form" name="formTag" autocomplete="off" novalidate ng-submit="formTag.$valid && detail.addTag()"><input ng-model="detail.tag" type="text" placeholder="[{trads.newTag}]" list="tagsList" ng-minlength="2" ng-maxlength="30" auto-focus="windows.opened.detail" required size="30"><datalist id="tagsList"></datalist><button type="submit">+</button></form></div><div ng-show="detail.book.inCollection"><div class="tag" ng-repeat="tag in detail.book.tags"><button class="libelle" ng-class="(!detail.ref.tags || detail.ref.tags.indexOf('[{tag}]') === -1) && 'new'" title="[{trads.filter}]" ng-click="detail.byTag($index)">[{tag}]</button><button title="[{trads.remove}]" ng-click="detail.removeTag($index)"><b>x</b></button></div></div><div id="userNote" class="inCollection" ng-show="detail.book.inCollection"><div note="1" class="note" ng-class="detail.book.userNote >= 1 ? 'select' : 'empty'"></div><div note="2" class="note" ng-class="detail.book.userNote >= 2 ? 'select' : 'empty'"></div><div note="3" class="note" ng-class="detail.book.userNote >= 3 ? 'select' : 'empty'"></div><div note="4" class="note" ng-class="detail.book.userNote >= 4 ? 'select' : 'empty'"></div><div note="5" class="note" ng-class="detail.book.userNote >= 5 ? 'select' : 'empty'"></div></div><div class="userComment inCollection" ng-show="detail.book.inCollection"><textarea ng-model="detail.book.userComment" class="direct" rows="5" placeholder="[{trads.comments}]"></textarea><div ng-show="detail.book.userDate" class="direct date">&nbsp;@&nbsp;[{detail.book.userDate | date: 'dd-MM-yyyy'}]</div></div><div ng-show="detail.book.comments.length"><span class="title">[{trads.readersComments}]:</span> <span class="subtitle" ng-show="detail.book.note">[{trads.mNote}]:&nbsp;<span>[{detail.book.note}]</span></span> <span id="comments"></span><div ng-repeat="comment in detail.book.comments"><fieldset><div ng-show="comment.comment" disabled="disabled">[{comment.comment}]</div><br><legend><span>[{comment.name}]</span>&nbsp;@&nbsp; <span>[{comment.date | date: "dd/MM/yyyy"}]</span>.&nbsp;[{trads.note}]:&nbsp; <span>[{comment.note}]</span></legend></fieldset><hr></div></div><div ng-show="detail.mostAdded.length"><span class="title">[{trads.mostAdded}]:</span><div class="mostAdded" ng-repeat="mostAdded in detail.mostAdded" ng-click="detail.load(null, mostAdded.id)"><header>[{mostAdded.title}]</header><div ng-show="!mostAdded.base64" class="altCover"></div><img ng-show="mostAdded.base64" ng-src="[{mostAdded.base64}]"><footer>[{mostAdded.authors}]</footer></div></div></div></article><form target="iPreview" method="POST" action="/preview" novalidate><input type="hidden" name="previewid" ng-value="detail.book.id"></form><section id="contextMenu" ng-style="context.style" ng-show="context.show"><div class="navgrid"><div><span nav="top" source="arrow-24-icon-top" blur="white" hover="alt" width="32" height="32"></span></div><div><span nav="left" source="arrow-24-icon-left" blur="white" hover="alt" width="32" height="32"></span> <span nav="right" source="arrow-24-icon-right" blur="white" hover="alt" width="32" height="32"></span></div><div><span nav="bottom" source="arrow-24-icon-bottom" blur="white" hover="alt" width="32" height="32"></span></div></div><div><div ng-show="detail.book.inCollection" ng-click="windows.open('recommand')">[{trads.torecommand}]&nbsp;</div><div ng-show="detail.book.access === 'SAMPLE'" ng-click="preview.open()">[{trads.preview}]&nbsp;</div><div ng-show="detail.book.link" ng-click="search.associated()">[{trads.connex}]&nbsp;</div><div ng-show="detail.book.link" ng-click="navbar.openUrl(detail.book.link)">[{trads.gbooks}]&nbsp;</div><div ng-show="detail.book.inCollection && !detail.book.cover" ng-click="detail.uploadCover()">[{trads.upload}]&nbsp;</div><hr><div ng-hide="detail.book.inCollection" ng-click="detail.addBook()">[{trads.add}]&nbsp;</div><div ng-show="detail.book.inCollection" ng-click="detail.updateBook()">[{trads.save}]&nbsp;</div><div ng-click="windows.close('detail')">[{trads.close}]&nbsp;</div></div></section>
