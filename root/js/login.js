var i=function(a){"use strict";switch(a.name){case"b":a.setCustomValidity(a.value.length<4?"Le nom doit contenir au moins 4 caractères!":"");break;case"c":a.setCustomValidity(a.value.length<4||a.value.length>12?"Le mot de passe doit contenir entre 4 et 12 caractères!":"");break;case"d":a.setCustomValidity(a.value!==$("[name=c]").val()?"Les mots de passe ne sont pas identiques!":"")}};$(document).ready(function(){"use strict";var a=function(){$(".e").removeClass("e"),$(".g").slideUp().text("")};$("form").submit(function(b){b.preventDefault(),a(),$(".j").show(),$.ajax({url:$("[h]").is(":visible")?"/new":"/login",method:"post",data:$(this).serialize(),success:function(a){return a.success?window.location.reload(!0):($("[type=email], [type=password], [type=text]").addClass("e"),$(".j").hide(),$("[name=a]").focus(),$(".g").text(a.error).slideDown("slow"),!1)}})}),$("[type=email],[type=password]").change(a),$("[type=button]").click(function(){a(),$("[h]").val("").toggle("slow",function(){$("[type=button]").val($("[h]").is(":visible")?"Annuler":"Créer compte"),$("[type=submit]").val($("[h]").is(":visible")?"Valider":"Connexion"),$("[h]").attr("required",$("[h]").is(":visible")),$("[type=email]").focus()})}),gapi.signin.render("f",{clientid:"216469168993-dqhiqllodmfovgtrmjdf2ps5kj0h1gg9.apps.googleusercontent.com",cookiepolicy:"none",scope:"https://www.googleapis.com/auth/plus.me https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/books",width:"wide",redirecturi:"postmessage",accesstype:"offline",callback:function(a){a.code&&$.ajax({url:"/googleAuth",method:"post",data:{code:a.code},success:function(b){return b.success?window.location.reload(!0):($(".e").text(a.error).slideDown("slow"),!1)}})}})});
